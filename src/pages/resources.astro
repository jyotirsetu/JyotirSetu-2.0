---
import Layout from '~/layouts/PageLayout.astro';
import Hero from '~/components/widgets/Hero.astro';

const metadata = {
  title: 'Free Resources & Downloads - JyotirSetu',
  description:
    'Practical guides and remedies you can start today‚Äîfree downloads from JyotirSetu. Dosha guides, gemstone tips, and more.',
};

// Sample resources - in a real implementation, these would be actual downloadable files
const resources = [
  {
    id: 1,
    title: 'üåø Dosha Balancing Guide',
    description:
      'Complete guide to understanding and balancing Vata, Pitta, and Kapha doshas. Includes practical remedies, diet tips, and lifestyle recommendations.',
    category: 'Health & Wellness',
    fileSize: '2.3 MB',
    downloads: 1250,
    image:
      'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8eW9nYXxlbnwwfDJ8MHx8fDI%3D',
    tags: ['Doshas', 'Health', 'Wellness', 'Vedic Remedies'],
  },
  {
    id: 2,
    title: 'üíé Gemstone Therapy Handbook',
    description:
      'Comprehensive guide to gemstone therapy. Learn which stones to wear for different purposes and how to use them effectively.',
    category: 'Gemstones',
    fileSize: '1.8 MB',
    downloads: 890,
    image:
      'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Z2Vtc3RvbmVzfGVufDB8MnwwfHx8Mg%3D%3D',
    tags: ['Gemstones', 'Healing', 'Crystal Energy', 'Therapy'],
  },
  {
    id: 3,
    title: 'üî¢ Numerology Basics Guide',
    description:
      'Introduction to numerology including Life Path Numbers, Destiny Numbers, and how to calculate them. Perfect for beginners.',
    category: 'Numerology',
    fileSize: '1.5 MB',
    downloads: 650,
    image:
      'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bnVtYmVyc3xlbnwwfDJ8MHx8fDI%3D',
    tags: ['Numerology', 'Life Path', 'Destiny', 'Numbers'],
  },
  {
    id: 4,
    title: '‚úã Palmistry Reading Guide',
    description:
      'Learn to read palm lines and understand what they reveal about personality, career, relationships, and life path.',
    category: 'Palmistry',
    fileSize: '2.1 MB',
    downloads: 720,
    image:
      'https://images.unsplash.com/photo-1551698618-1dfe5d97d256?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8aGFuZHN8ZW58MHwyfDB8fHwy',
    tags: ['Palmistry', 'Palm Reading', 'Life Lines', 'Destiny'],
  },
  {
    id: 5,
    title: 'üïâÔ∏è Daily Spiritual Practices',
    description:
      'Collection of daily spiritual practices including meditation techniques, mantras, and rituals for spiritual growth.',
    category: 'Spirituality',
    fileSize: '1.2 MB',
    downloads: 980,
    image:
      'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bWVkaXRhdGlvbnxlbnwwfDJ8MHx8fDI%3D',
    tags: ['Spirituality', 'Meditation', 'Mantras', 'Daily Practices'],
  },
  {
    id: 6,
    title: 'üíº Career Guidance Through Astrology',
    description: 'How to use astrological insights for career planning, job changes, and professional development.',
    category: 'Career',
    fileSize: '1.9 MB',
    downloads: 540,
    image:
      'https://images.unsplash.com/photo-1521737711867-e3b97375f902?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Y2FyZWVyfGVufDB8MnwwfHx8Mg%3D%3D',
    tags: ['Career', 'Astrology', 'Professional Growth', 'Job Guidance'],
  },
];

const categories = ['All', 'Health & Wellness', 'Gemstones', 'Numerology', 'Palmistry', 'Spirituality', 'Career'];
---

<Layout metadata={metadata}>
  <!-- Hero Section -->
  <Hero
    title="üìö Free Resources & Downloads"
    subtitle="Practical guides and remedies you can start today‚Äîfree downloads from JyotirSetu. Dosha guides, gemstone tips, and more."
    actions={[
      {
        variant: 'primary',
        text: 'Book Consultation',
        href: '/ScheduleAppointmentJyotirSetu',
        icon: 'tabler:calendar',
      },
      { text: 'Browse Resources', href: '#resources' },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Ym9va3N8ZW58MHwyfDB8fHwy',
      alt: 'Free Resources',
    }}
  >
    <div slot="title">
      üìö <span class="text-accent dark:text-white">Free Resources</span> & Downloads
    </div>
  </Hero>

  <!-- Category Filter Section -->
  <section class="py-8 bg-page border-b border-gray-200 dark:border-slate-700">
    <div class="max-w-7xl mx-auto px-6">
      <div class="flex flex-wrap justify-center gap-3">
        {
          categories.map((category) => (
            <button
              class="resource-filter px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 hover:scale-105"
              data-category={category === 'All' ? 'all' : category.toLowerCase().replace(' & ', '-').replace(' ', '-')}
              data-active={category === 'All' ? 'true' : 'false'}
            >
              {category}
            </button>
          ))
        }
      </div>
    </div>
  </section>

  <!-- Resources Section -->
  <section id="resources" class="py-16 bg-page">
    <div class="max-w-7xl mx-auto px-6">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-heading mb-4">Free Downloads for Your Journey</h2>
        <p class="text-lg text-muted">Start your transformation today with these practical guides and resources</p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="resources-grid">
        {
          resources.map((resource) => (
            <article
              class="resource-card bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden border border-gray-200 dark:border-slate-700 transition-all duration-300 hover:shadow-xl hover:-translate-y-1"
              data-category={resource.category.toLowerCase().replace(' & ', '-').replace(' ', '-')}
            >
              <div class="relative">
                <img src={resource.image} alt={resource.title} class="w-full h-48 object-cover" />
                <div class="absolute top-4 left-4">
                  <span class="bg-primary text-white px-3 py-1 rounded-full text-xs font-medium">
                    {resource.category}
                  </span>
                </div>
                <div class="absolute top-4 right-4">
                  <span class="bg-white dark:bg-slate-800 text-gray-600 dark:text-gray-300 px-2 py-1 rounded text-xs">
                    {resource.fileSize}
                  </span>
                </div>
              </div>

              <div class="p-6">
                <h3 class="text-xl font-bold text-heading mb-3 line-clamp-2">{resource.title}</h3>

                <p class="text-muted mb-4 line-clamp-3">{resource.description}</p>

                <div class="flex flex-wrap gap-2 mb-4">
                  {resource.tags.map((tag) => (
                    <span class="bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded text-xs">
                      {tag}
                    </span>
                  ))}
                </div>

                <div class="flex items-center justify-between mb-4">
                  <span class="text-sm text-muted">üì• {resource.downloads.toLocaleString()} downloads</span>
                  <span class="text-sm text-muted">üìÅ {resource.fileSize}</span>
                </div>

                <button class="w-full bg-primary hover:bg-primary-dark text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                    />
                  </svg>
                  Download Free
                </button>
              </div>
            </article>
          ))
        }
      </div>

      <!-- Load More Button -->
      <div class="text-center mt-12">
        <button
          class="bg-secondary hover:bg-secondary-dark text-white font-medium py-3 px-8 rounded-lg transition-colors duration-200"
        >
          Load More Resources
        </button>
      </div>
    </div>
  </section>

  <!-- Featured Resource Section -->
  <section class="py-16 bg-gradient-to-r from-primary/5 to-secondary/5">
    <div class="max-w-6xl mx-auto px-6">
      <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 lg:p-12">
        <div class="lg:flex items-center gap-12">
          <div class="lg:w-1/2 mb-8 lg:mb-0">
            <div
              class="bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-8 text-center"
            >
              <div class="text-8xl mb-4">üåø</div>
              <h3 class="text-2xl font-bold text-heading mb-2">Dosha Balancing Guide</h3>
              <p class="text-muted mb-4">Our most popular free resource</p>
              <div class="text-3xl font-bold text-primary mb-2">2,500+ Downloads</div>
            </div>
          </div>

          <div class="lg:w-1/2">
            <h2 class="text-3xl font-bold text-heading mb-6">Transform Your Health with Ancient Wisdom</h2>
            <p class="text-muted mb-6">
              Discover the three doshas (Vata, Pitta, Kapha) and learn practical remedies to balance them for optimal
              health and well-being. This comprehensive guide includes:
            </p>

            <div class="space-y-3 mb-8">
              <div class="flex items-center gap-3">
                <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center">
                  <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <span class="text-muted">Complete dosha analysis and identification</span>
              </div>
              <div class="flex items-center gap-3">
                <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center">
                  <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <span class="text-muted">Personalized diet and lifestyle recommendations</span>
              </div>
              <div class="flex items-center gap-3">
                <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center">
                  <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
                <span class="text-muted">Practical remedies and daily practices</span>
              </div>
            </div>

            <button
              class="w-full lg:w-auto bg-primary hover:bg-primary-dark text-white font-medium py-3 px-8 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2"
            >
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                ></path>
              </svg>
              Download Dosha Guide
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Newsletter Section -->
  <section class="py-16 bg-page">
    <div class="max-w-4xl mx-auto px-6 text-center">
      <h2 class="text-3xl font-bold text-heading mb-4">Get New Resources First</h2>
      <p class="text-lg text-muted mb-8">
        Subscribe to receive new guides, remedies, and resources as soon as they're available
      </p>

      <div class="max-w-md mx-auto">
        <div class="flex gap-3">
          <input
            type="email"
            placeholder="Enter your email address"
            class="flex-1 px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-slate-700 dark:text-white"
          />
          <button
            class="bg-primary hover:bg-primary-dark text-white font-medium px-6 py-3 rounded-lg transition-colors duration-200"
          >
            Subscribe
          </button>
        </div>
        <p class="text-sm text-muted mt-2">Get notified about new free resources and exclusive content</p>
      </div>
    </div>
  </section>

  <style>
    .resource-filter[data-active='true'] {
      background-color: rgb(59 130 246);
      color: white;
    }

    .resource-filter[data-active='false'] {
      background-color: rgb(243 244 246);
      color: rgb(107 114 128);
    }

    .dark .resource-filter[data-active='false'] {
      background-color: rgb(51 65 85);
      color: rgb(148 163 184);
    }

    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .line-clamp-3 {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
  </style>

  <script>
    // Category filtering functionality
    function initResourceFilter() {
      const filterButtons = document.querySelectorAll('.resource-filter');
      const resources = document.querySelectorAll('.resource-card');

      filterButtons.forEach((button) => {
        button.addEventListener('click', () => {
          const category = button.getAttribute('data-category');

          // Update active button
          filterButtons.forEach((btn) => btn.setAttribute('data-active', 'false'));
          button.setAttribute('data-active', 'true');

          // Filter resources
          resources.forEach((resource) => {
            const resourceCategory = resource.getAttribute('data-category');
            const resourceElement = resource as HTMLElement;

            if (category === 'all' || resourceCategory === category) {
              resourceElement.style.display = 'block';
              resourceElement.style.animation = 'fadeIn 0.5s ease-in-out';
            } else {
              resourceElement.style.display = 'none';
            }
          });
        });
      });
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', function () {
      initResourceFilter();
    });
  </script>

  <style>
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</Layout>
