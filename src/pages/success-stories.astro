---
import Layout from '~/layouts/PageLayout.astro';
import Hero from '~/components/widgets/Hero.astro';

const metadata = {
  title: 'Success Stories & Case Studies - JyotirSetu',
  description:
    'See how JyotirSetu guided individuals to clarity, balance, and success. Real anonymized client journeys and transformation stories.',
};

// Sample success stories - in a real implementation, these would come from a CMS
const successStories = [
  {
    id: 1,
    name: 'Priya S.',
    age: 28,
    service: 'Career Guidance',
    problem: 'Struggling with career direction and job satisfaction',
    solution: 'Comprehensive birth chart analysis revealed strong leadership qualities and entrepreneurial potential',
    outcome: 'Started successful consulting business, 3x income increase, found true passion',
    testimonial:
      'JyotirSetu helped me discover my true calling. The career guidance was spot-on and gave me the confidence to start my own business.',
    image:
      'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YnVzaW5lc3N8ZW58MHwyfDB8fHwy',
    category: 'career',
  },
  {
    id: 2,
    name: 'Rajesh M.',
    age: 35,
    service: 'Relationship Compatibility',
    problem: 'Multiple failed relationships, difficulty finding compatible partner',
    solution: 'Detailed compatibility analysis and personalized relationship guidance',
    outcome: 'Found compatible partner, married within 1 year, now happily married for 3 years',
    testimonial:
      'The relationship compatibility analysis was incredibly accurate. I finally found someone who truly understands me.',
    image:
      'https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Y291cGxlfGVufDB8MnwwfHx8Mg%3D%3D',
    category: 'relationship',
  },
  {
    id: 3,
    name: 'Anita K.',
    age: 42,
    service: 'Health Astrology',
    problem: 'Chronic health issues, low energy, stress-related problems',
    solution: 'Dosha analysis and personalized health remedies including gemstone therapy',
    outcome: 'Significant improvement in energy levels, better sleep, reduced stress, overall health transformation',
    testimonial: 'The health remedies changed my life. I feel more energetic and balanced than ever before.',
    image:
      'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8eW9nYXxlbnwwfDJ8MHx8fDI%3D',
    category: 'health',
  },
  {
    id: 4,
    name: 'Vikram P.',
    age: 31,
    service: 'Numerology Consultation',
    problem: 'Career stagnation, lack of motivation, unclear life purpose',
    solution: 'Life Path Number analysis and personalized numerology guidance',
    outcome: 'Career breakthrough, new job with 40% salary increase, renewed sense of purpose',
    testimonial:
      'The numerology consultation revealed my hidden potential. I now have a clear direction and renewed motivation.',
    image:
      'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cHJvZmVzc2lvbmFsfGVufDB8MnwwfHx8Mg%3D%3D',
    category: 'career',
  },
  {
    id: 5,
    name: 'Meera R.',
    age: 26,
    service: 'Gemstone Consultation',
    problem: 'Lack of confidence, communication issues, social anxiety',
    solution: 'Personalized gemstone recommendations and wearing guidance',
    outcome: 'Improved confidence, better communication skills, reduced social anxiety, career advancement',
    testimonial:
      'Wearing the recommended gemstones has transformed my confidence. I feel more powerful and capable now.',
    image:
      'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Z2Vtc3RvbmVzfGVufDB8MnwwfHx8Mg%3D%3D',
    category: 'personal',
  },
  {
    id: 6,
    name: 'Arjun S.',
    age: 38,
    service: 'Palmistry Reading',
    problem: 'Financial difficulties, poor investment decisions, lack of wealth consciousness',
    solution: 'Palm reading analysis focusing on wealth lines and financial guidance',
    outcome: 'Better financial decisions, started successful investments, improved wealth consciousness',
    testimonial:
      "The palmistry reading opened my eyes to my financial potential. I've made much better investment decisions since.",
    image:
      'https://images.unsplash.com/photo-1551698618-1dfe5d97d256?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8aGFuZHN8ZW58MHwyfDB8fHwy',
    category: 'finance',
  },
];

const categories = ['All', 'Career', 'Relationship', 'Health', 'Personal', 'Finance'];
---

<Layout metadata={metadata}>
  <!-- Hero Section -->
  <Hero
    title="ðŸŒŸ Success Stories & Case Studies"
    subtitle="See how JyotirSetu guided individuals to clarity, balance, and success. Real anonymized client journeys and transformation stories."
    actions={[
      {
        variant: 'primary',
        text: 'Book Your Consultation',
        href: '/ScheduleAppointmentJyotirSetu',
        icon: 'tabler:calendar',
      },
      { text: 'Read Stories', href: '#stories' },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8c3VjY2Vzc3xlbnwwfDJ8MHx8fDI%3D',
      alt: 'Success Stories',
      inferSize: true,
    }}
  >
    <div slot="title">
      ðŸŒŸ <span class="text-accent dark:text-white">Success Stories</span> & Case Studies
    </div>
  </Hero>

  <!-- Category Filter Section -->
  <section class="py-8 bg-page border-b border-gray-200 dark:border-slate-700">
    <div class="max-w-7xl mx-auto px-6">
      <div class="flex flex-wrap justify-center gap-3">
        {
          categories.map((category) => (
            <button
              class="story-filter px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 hover:scale-105"
              data-category={category === 'All' ? 'all' : category.toLowerCase()}
              data-active={category === 'All' ? 'true' : 'false'}
            >
              {category}
            </button>
          ))
        }
      </div>
    </div>
  </section>

  <!-- Success Stories Section -->
  <section id="stories" class="py-16 bg-page">
    <div class="max-w-7xl mx-auto px-6">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-heading mb-4">Real Transformations, Real Results</h2>
        <p class="text-lg text-muted">
          Discover how our clients found clarity, balance, and success through JyotirSetu's guidance
        </p>
      </div>

      <div class="grid lg:grid-cols-2 gap-8" id="stories-grid">
        {
          successStories.map((story) => (
            <article
              class="story-card bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden border border-gray-200 dark:border-slate-700 transition-all duration-300 hover:shadow-xl hover:-translate-y-1"
              data-category={story.category}
            >
              <div class="lg:flex">
                <div class="lg:w-1/3">
                  <img src={story.image} alt={story.name} class="w-full h-48 lg:h-full object-cover" />
                </div>

                <div class="lg:w-2/3 p-6">
                  <div class="flex items-center justify-between mb-3">
                    <span class="bg-primary text-white px-3 py-1 rounded-full text-xs font-medium">
                      {story.service}
                    </span>
                    <span class="text-sm text-muted">{story.age} years</span>
                  </div>

                  <h3 class="text-xl font-bold text-heading mb-3">{story.name}</h3>

                  <div class="space-y-3 mb-4">
                    <div>
                      <h4 class="font-semibold text-heading text-sm mb-1">ðŸŽ¯ Problem:</h4>
                      <p class="text-muted text-sm">{story.problem}</p>
                    </div>

                    <div>
                      <h4 class="font-semibold text-heading text-sm mb-1">ðŸ’¡ Solution:</h4>
                      <p class="text-muted text-sm">{story.solution}</p>
                    </div>

                    <div>
                      <h4 class="font-semibold text-heading text-sm mb-1">âœ¨ Outcome:</h4>
                      <p class="text-muted text-sm">{story.outcome}</p>
                    </div>
                  </div>

                  <blockquote class="italic text-gray-600 dark:text-gray-300 text-sm border-l-4 border-primary pl-4 mb-4">
                    "{story.testimonial}"
                  </blockquote>

                  <button class="w-full bg-primary hover:bg-primary-dark text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200">
                    Read Full Story
                  </button>
                </div>
              </div>
            </article>
          ))
        }
      </div>

      <!-- Load More Button -->
      <div class="text-center mt-12">
        <button
          class="bg-secondary hover:bg-secondary-dark text-white font-medium py-3 px-8 rounded-lg transition-colors duration-200"
        >
          Load More Stories
        </button>
      </div>
    </div>
  </section>

  <!-- Statistics Section -->
  <section class="py-16 bg-gradient-to-r from-primary/5 to-secondary/5">
    <div class="max-w-7xl mx-auto px-6">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-heading mb-4">Our Impact in Numbers</h2>
        <p class="text-lg text-muted">Real results from real people who trusted JyotirSetu</p>
      </div>

      <div class="grid md:grid-cols-4 gap-8">
        <div class="text-center">
          <div class="text-4xl font-bold text-primary mb-2">500+</div>
          <p class="text-muted">Happy Clients</p>
        </div>
        <div class="text-center">
          <div class="text-4xl font-bold text-secondary mb-2">95%</div>
          <p class="text-muted">Success Rate</p>
        </div>
        <div class="text-center">
          <div class="text-4xl font-bold text-accent mb-2">1000+</div>
          <p class="text-muted">Consultations</p>
        </div>
        <div class="text-center">
          <div class="text-4xl font-bold text-primary mb-2">4.9/5</div>
          <p class="text-muted">Client Rating</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 bg-page">
    <div class="max-w-4xl mx-auto px-6 text-center">
      <h2 class="text-3xl font-bold text-heading mb-4">Ready to Write Your Success Story?</h2>
      <p class="text-lg text-muted mb-8">
        Join hundreds of satisfied clients who found clarity and success through JyotirSetu's guidance
      </p>

      <div class="space-y-4">
        <a
          href="/ScheduleAppointmentJyotirSetu"
          class="inline-block bg-primary hover:bg-primary-dark text-white font-medium py-3 px-8 rounded-lg transition-colors duration-200"
        >
          Book Your Consultation
        </a>
        <p class="text-sm text-muted">Start your transformation journey today</p>
      </div>
    </div>
  </section>

  <style>
    .story-filter[data-active='true'] {
      background-color: rgb(59 130 246);
      color: white;
    }

    .story-filter[data-active='false'] {
      background-color: rgb(243 244 246);
      color: rgb(107 114 128);
    }

    .dark .story-filter[data-active='false'] {
      background-color: rgb(51 65 85);
      color: rgb(148 163 184);
    }
  </style>

  <script>
    // Category filtering functionality
    function initStoryFilter() {
      const filterButtons = document.querySelectorAll('.story-filter');
      const stories = document.querySelectorAll('.story-card');

      filterButtons.forEach((button) => {
        button.addEventListener('click', () => {
          const category = button.getAttribute('data-category');

          // Update active button
          filterButtons.forEach((btn) => btn.setAttribute('data-active', 'false'));
          button.setAttribute('data-active', 'true');

          // Filter stories
          stories.forEach((story) => {
            const storyCategory = story.getAttribute('data-category');
            const storyElement = story as HTMLElement;

            if (category === 'all' || storyCategory === category) {
              storyElement.style.display = 'block';
              storyElement.style.animation = 'fadeIn 0.5s ease-in-out';
            } else {
              storyElement.style.display = 'none';
            }
          });
        });
      });
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', function () {
      initStoryFilter();
    });
  </script>

  <style>
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</Layout>
