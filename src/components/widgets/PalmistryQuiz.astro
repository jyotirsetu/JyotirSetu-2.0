---
// Palmistry Mini-Quiz
// Fun quiz about hand characteristics and palm reading insights
---

<script>
  // Palmistry Quiz Logic
  class PalmistryQuiz {
    constructor() {
      this.init();
    }
    
    init() {
      this.renderQuiz();
      this.attachEventListeners();
    }
    
    renderQuiz() {
      const container = document.getElementById('palmistry-quiz-container');
      if (!container) return;
      
      container.innerHTML = `
        <div class="bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-700">
          <div class="text-center mb-6">
            <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-2">‚úã Discover Your Palm Reading</h3>
            <p class="text-gray-600 dark:text-gray-300">Answer a few questions about your hands to reveal fascinating palmistry insights</p>
          </div>
          
          <div class="space-y-6">
            <div class="question-block">
              <label class="block text-lg font-semibold text-gray-900 dark:text-white mb-3">
                1. Are your palm lines straight or curved?
              </label>
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                <label class="flex items-center p-3 border border-gray-300 dark:border-slate-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-700">
                  <input type="radio" name="line-type" value="straight" class="mr-3" required>
                  <span class="text-gray-700 dark:text-gray-300">üìè Straight Lines</span>
                </label>
                <label class="flex items-center p-3 border border-gray-300 dark:border-slate-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-700">
                  <input type="radio" name="line-type" value="curved" class="mr-3" required>
                  <span class="text-gray-700 dark:text-gray-300">üîÑ Curved Lines</span>
                </label>
              </div>
            </div>
            
            <div class="question-block">
              <label class="block text-lg font-semibold text-gray-900 dark:text-white mb-3">
                2. Which hand is dominant?
              </label>
              <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                <label class="flex items-center p-3 border border-gray-300 dark:border-slate-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-700">
                  <input type="radio" name="hand-dominance" value="left" class="mr-3" required>
                  <span class="text-gray-700 dark:text-gray-300">üëà Left Hand</span>
                </label>
                <label class="flex items-center p-3 border border-gray-300 dark:border-slate-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-700">
                  <input type="radio" name="hand-dominance" value="right" class="mr-3" required>
                  <span class="text-gray-700 dark:text-gray-300">üëâ Right Hand</span>
                </label>
                <label class="flex items-center p-3 border border-gray-300 dark:border-slate-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-700">
                  <input type="radio" name="hand-dominance" value="both" class="mr-3" required>
                  <span class="text-gray-700 dark:text-gray-300">ü§ù Both Hands</span>
                </label>
              </div>
            </div>
            
            <div class="question-block">
              <label class="block text-lg font-semibold text-gray-900 dark:text-white mb-3">
                3. What's your main life concern?
              </label>
              <select 
                id="life-concern" 
                class="w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-white"
                required
              >
                <option value="">Select your concern...</option>
                <option value="career">üíº Career & Professional Growth</option>
                <option value="love">üíï Love & Relationships</option>
                <option value="health">üåø Health & Wellbeing</option>
                <option value="wealth">üí∞ Wealth & Financial Success</option>
                <option value="spirituality">üïâÔ∏è Spiritual Development</option>
              </select>
            </div>
          </div>
          
          <div class="text-center mt-6">
            <button 
              id="read-palm" 
              class="bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-8 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"
              disabled
            >
              ‚úã Read My Palm
            </button>
          </div>
          
          <div id="palmistry-result" class="hidden mt-6 p-6 bg-white dark:bg-slate-800 rounded-lg border border-green-200 dark:border-slate-700">
            <!-- Result will be populated here -->
          </div>
        </div>
      `;
    }
    
    attachEventListeners() {
      const radioButtons = document.querySelectorAll('input[type="radio"]');
      const lifeConcernSelect = document.getElementById('life-concern');
      const readPalmBtn = document.getElementById('read-palm');
      
      radioButtons.forEach(radio => {
        radio.addEventListener('change', () => this.updateSubmitButton());
      });
      
      if (lifeConcernSelect) {
        lifeConcernSelect.addEventListener('change', () => this.updateSubmitButton());
      }
      
      if (readPalmBtn) {
        readPalmBtn.addEventListener('click', () => this.readPalm());
      }
    }
    
    updateSubmitButton() {
      const lineType = document.querySelector('input[name="line-type"]:checked');
      const handDominance = document.querySelector('input[name="hand-dominance"]:checked');
      const lifeConcern = document.getElementById('life-concern')?.value;
      const submitBtn = document.getElementById('read-palm');
      
      if (submitBtn) {
        submitBtn.disabled = !(lineType && handDominance && lifeConcern);
      }
    }
    
    readPalm() {
      const lineType = document.querySelector('input[name="line-type"]:checked')?.value;
      const handDominance = document.querySelector('input[name="hand-dominance"]:checked')?.value;
      const lifeConcern = document.getElementById('life-concern')?.value;
      
      if (!lineType || !handDominance || !lifeConcern) return;
      
      const insights = this.generatePalmistryInsights(lineType, handDominance, lifeConcern);
      this.showResult(insights, lifeConcern);
    }
    
    generatePalmistryInsights(lineType, handDominance, lifeConcern) {
      const insights = {
        lineType: {
          straight: {
            title: 'The Logical Thinker',
            description: 'Your straight palm lines indicate a practical, analytical mind. You approach life with logic and reason, making well-thought-out decisions.',
            traits: 'Methodical, organized, reliable, and detail-oriented'
          },
          curved: {
            title: 'The Creative Soul',
            description: 'Your curved palm lines reveal a creative and intuitive nature. You trust your instincts and have a natural artistic flair.',
            traits: 'Imaginative, intuitive, adaptable, and emotionally expressive'
          }
        },
        handDominance: {
          left: {
            title: 'The Intuitive Hand',
            description: 'Left hand dominance suggests strong intuitive abilities and emotional intelligence. You have a natural connection to your subconscious mind.',
            traits: 'Intuitive, empathetic, creative, and spiritually aware'
          },
          right: {
            title: 'The Action Hand',
            description: 'Right hand dominance indicates strong willpower and action-oriented nature. You prefer to take charge and make things happen.',
            traits: 'Determined, practical, goal-oriented, and confident'
          },
          both: {
            title: 'The Balanced Hand',
            description: 'Both hands being equally strong shows excellent balance between logic and intuition. You can adapt to any situation with ease.',
            traits: 'Balanced, adaptable, versatile, and harmonious'
          }
        },
        lifeConcern: {
          career: {
            focus: 'Career & Professional Growth',
            insight: 'Your palm shows strong potential for professional advancement. Focus on developing your unique skills and building meaningful connections.',
            advice: 'Consider leadership roles and continuous learning opportunities.'
          },
          love: {
            focus: 'Love & Relationships',
            insight: 'Your palm reveals a deep capacity for love and emotional connection. You have the ability to create lasting, meaningful relationships.',
            advice: 'Trust your heart and be open to deep emotional connections.'
          },
          health: {
            focus: 'Health & Wellbeing',
            insight: 'Your palm indicates strong vitality and resilience. You have the power to maintain excellent health through mindful living.',
            advice: 'Focus on holistic wellness and preventive care practices.'
          },
          wealth: {
            focus: 'Wealth & Financial Success',
            insight: 'Your palm shows excellent potential for financial abundance. You have the ability to create and manage wealth effectively.',
            advice: 'Focus on value creation and smart financial planning.'
          },
          spirituality: {
            focus: 'Spiritual Development',
            insight: 'Your palm reveals a deep spiritual connection and intuitive wisdom. You have the potential for profound spiritual growth.',
            advice: 'Trust your inner guidance and explore spiritual practices.'
          }
        }
      };
      
      return {
        lineType: insights.lineType[lineType],
        handDominance: insights.handDominance[handDominance],
        lifeConcern: insights.lifeConcern[lifeConcern]
      };
    }
    
    showResult(insights, lifeConcern) {
      const resultContainer = document.getElementById('palmistry-result');
      if (!resultContainer) return;
      
      resultContainer.innerHTML = `
        <div class="text-center">
          <div class="text-6xl mb-4">‚úã</div>
          <h4 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Your Palm Reading Reveals...</h4>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
            <div class="bg-green-50 dark:bg-green-900/20 p-4 rounded-lg">
              <h6 class="font-semibold text-green-800 dark:text-green-200 mb-2">Line Pattern</h6>
              <p class="text-green-700 dark:text-green-300 text-sm font-medium">${insights.lineType.title}</p>
              <p class="text-green-600 dark:text-green-400 text-xs mt-1">${insights.lineType.traits}</p>
            </div>
            
            <div class="bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-lg">
              <h6 class="font-semibold text-emerald-800 dark:text-emerald-200 mb-2">Hand Dominance</h6>
              <p class="text-emerald-700 dark:text-emerald-300 text-sm font-medium">${insights.handDominance.title}</p>
              <p class="text-emerald-600 dark:text-emerald-400 text-xs mt-1">${insights.handDominance.traits}</p>
            </div>
            
            <div class="bg-teal-50 dark:bg-teal-900/20 p-4 rounded-lg">
              <h6 class="font-semibold text-teal-800 dark:text-teal-200 mb-2">Life Focus</h6>
              <p class="text-teal-700 dark:text-teal-300 text-sm font-medium">${insights.lifeConcern.focus}</p>
            </div>
          </div>
          
          <div class="bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-lg mb-6">
            <h6 class="font-semibold text-green-800 dark:text-green-200 mb-2">üí° Line Pattern Insight</h6>
            <p class="text-green-700 dark:text-green-300 text-sm">${insights.lineType.description}</p>
          </div>
          
          <div class="bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 p-4 rounded-lg mb-6">
            <h6 class="font-semibold text-emerald-800 dark:text-emerald-200 mb-2">üåü Hand Dominance Insight</h6>
            <p class="text-emerald-700 dark:text-emerald-300 text-sm">${insights.handDominance.description}</p>
          </div>
          
          <div class="bg-gradient-to-r from-teal-50 to-blue-50 dark:from-teal-900/20 dark:to-blue-900/20 p-4 rounded-lg mb-6">
            <h6 class="font-semibold text-teal-800 dark:text-teal-200 mb-2">üéØ ${insights.lifeConcern.focus}</h6>
            <p class="text-teal-700 dark:text-teal-300 text-sm">${insights.lifeConcern.insight}</p>
            <p class="text-teal-600 dark:text-teal-400 text-sm mt-2"><strong>Advice:</strong> ${insights.lifeConcern.advice}</p>
          </div>
          
          <div class="space-y-3">
            <button 
              onclick="window.location.href='/ScheduleAppointmentJyotirSetu'"
              class="w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200"
            >
              ‚úã Book Palmistry Reading
            </button>
            <button 
              onclick="this.closest('#palmistry-result').classList.add('hidden')"
              class="w-full bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium py-3 px-6 rounded-lg transition-colors duration-200"
            >
              Read Again
            </button>
          </div>
        </div>
      `;
      
      resultContainer.classList.remove('hidden');
    }
  }
  
  // Initialize quiz when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => {
      new PalmistryQuiz();
    });
  } else {
    // DOM is already loaded
    new PalmistryQuiz();
  }
</script>

<!-- Palmistry Quiz Container -->
<div id="palmistry-quiz-container" class="my-8">
  <!-- Quiz will be rendered here -->
</div>
